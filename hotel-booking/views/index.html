{{define "content"}}
<section class="home-search-bar">
  <form method="get" class="home-search-grid">
    <label>
      Kota, tujuan, atau nama hotel
      <input name="q" placeholder="Kota, hotel, tempat wisata" value="{{.Query}}">
    </label>
    <label>
      Tanggal Check-in & Check-out
      <input name="date" value="Kam, 19 Feb 2026 - Jum, 20 Feb 2026">
      <small>Durasi: 1 Malam</small>
    </label>
    <label>
      Tamu dan Kamar
      <input name="guest" value="2 Dewasa, 0 Anak, 1 Kamar">
    </label>
    <button type="submit">Cari</button>
  </form>
</section>

<section class="city-map-wrap">
  <article class="city-grid">
    {{range .CityDeals}}
    <button type="button" class="dest-card" onclick="openCityModal('city-modal-{{.Name}}')" style="background-image:url('{{.ImageURL}}')">
      <div>
        <h3>{{.Name}}</h3>
        <p>Hotel Murah di {{.Name}} mulai dari {{.Price}}</p>
        <small>10 Hotel Tersedia</small>
      </div>
    </button>

    <dialog id="city-modal-{{.Name}}" class="city-modal">
      <div class="hotel-modal-head">
        <h3>{{.Name}} • 10 Hotel</h3>
        <button type="button" class="modal-close" onclick="closeCityModal('city-modal-{{.Name}}')">✕</button>
      </div>
      <ul>
        <li>{{.Name}} Premier Stay</li>
        <li>{{.Name}} Central Hotel</li>
        <li>{{.Name}} Skyline Suites</li>
        <li>{{.Name}} Urban Comfort</li>
        <li>{{.Name}} Garden Inn</li>
        <li>{{.Name}} Business Hub Hotel</li>
        <li>{{.Name}} Family Residence</li>
        <li>{{.Name}} Luxury Grand</li>
        <li>{{.Name}} Citylight Rooms</li>
        <li>{{.Name}} Riverside Hotel</li>
      </ul>
      <div class="modal-actions">
        <a class="btn" href="/?city={{.Name}}">Lihat Hotel di {{.Name}}</a>
      </div>
    </dialog>
    {{end}}
  </article>

  <article class="city-map-card">
    <h3>Map Lokasi Destinasi</h3>
    <iframe src="https://maps.google.com/maps?q=indonesia%20hotel%20destination&t=&z=4&ie=UTF8&iwloc=&output=embed" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    <p>Pilih kota untuk lihat 10 pilihan hotel populer.</p>
  </article>
</section>

<script>
  function openCityModal(id) {
    const modal = document.getElementById(id);
    if (modal && typeof modal.showModal === 'function') modal.showModal();
  }
  function closeCityModal(id) {
    const modal = document.getElementById(id);
    if (modal) modal.close();
  }
</script>
{{end}}
