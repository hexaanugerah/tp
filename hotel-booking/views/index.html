{{define "content"}}
<section class="home-search-bar">
  <form method="get" class="home-search-grid">
    <label>
      Kota, tujuan, atau nama hotel
      <input name="q" placeholder="Kota, hotel, tempat wisata" value="{{.Query}}">
    </label>
    <label>
      Tanggal Check-in & Check-out
      <input name="date" value="Kam, 19 Feb 2026 - Jum, 20 Feb 2026">
      <small>Durasi: 1 Malam</small>
    </label>
    <label>
      Tamu dan Kamar
      <input name="guest" value="2 Dewasa, 0 Anak, 1 Kamar">
    </label>
    <button type="submit">Cari</button>
  </form>
</section>

<section class="destination-grid">
  <a class="dest-card" href="/?city=bandung" style="background-image:url('https://images.unsplash.com/photo-1558005530-a7958896ec60?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Bandung</h3><p>Hotel Murah di Bandung mulai dari Rp 47.000</p></div>
  </a>
  <a class="dest-card" href="/?city=yogyakarta" style="background-image:url('https://images.unsplash.com/photo-1532186651327-6ac23687d189?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Yogyakarta</h3><p>Hotel Murah di Yogyakarta mulai dari Rp 40.000</p></div>
  </a>
  <a class="dest-card" href="/?city=bali" style="background-image:url('https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Bali</h3><p>Hotel Murah di Bali mulai dari Rp 56.000</p></div>
  </a>
  <a class="dest-card" href="/?city=singapore" style="background-image:url('https://images.unsplash.com/photo-1525625293386-3f8f99389edd?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Singapore</h3><p>Hotel Murah di Singapura mulai dari Rp 239.000</p></div>
  </a>
  <a class="dest-card" href="/?city=kuala%20lumpur" style="background-image:url('https://images.unsplash.com/photo-1596422846543-75c6fc197f07?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Kuala Lumpur</h3><p>Hotel Murah di Kuala Lumpur mulai dari Rp 67.000</p></div>
  </a>
  <a class="dest-card" href="/?city=bangkok" style="background-image:url('https://images.unsplash.com/photo-1508009603885-50cf7c579365?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Bangkok</h3><p>Hotel Murah di Bangkok mulai dari Rp 47.000</p></div>
  </a>
  <a class="dest-card" href="/?city=penang" style="background-image:url('https://images.unsplash.com/photo-1527631746610-bca00a040d60?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Penang</h3><p>Hotel Murah di Penang mulai dari Rp 98.000</p></div>
  </a>
  <a class="dest-card" href="/?city=seoul" style="background-image:url('https://images.unsplash.com/photo-1538485399081-7191377e8241?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Seoul</h3><p>Hotel Murah di Seoul mulai dari Rp 280.000</p></div>
  </a>
  <a class="dest-card" href="/?city=tokyo" style="background-image:url('https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=1200&q=80')">
    <div><h3>Tokyo</h3><p>Hotel Murah di Tokyo mulai dari Rp 268.000</p></div>
  </a>
</section>

<section class="hotel-grid">
  {{range .Hotels}}
  <article class="card hotel-card-pop">
    <img src="{{.ImageURL}}" alt="{{.Name}}">
    <div class="card-body">
      <h3>{{.Name}}</h3>
      <p>{{.City}} • ⭐ {{printf "%.1f" .Rating}}</p>
      <p>{{.Description}}</p>
      <div class="card-cta-row">
        <button type="button" class="btn btn-ghost" onclick="openHotelModal('hotel-modal-{{.ID}}')">Pilih Hotel</button>
        <a class="btn" href="/hotel/{{.ID}}">Lihat Detail</a>
      </div>
    </div>
  </article>

  <dialog id="hotel-modal-{{.ID}}" class="hotel-modal">
    <div class="hotel-modal-head">
      <h3>{{.Name}}</h3>
      <button type="button" class="modal-close" onclick="closeHotelModal('hotel-modal-{{.ID}}')">✕</button>
    </div>
    <img src="{{.ImageURL}}" alt="{{.Name}}">
    <p>{{.City}} • ⭐ {{printf "%.1f" .Rating}}</p>
    <p>{{.Description}}</p>
    <div class="modal-actions">
      <a class="btn" href="/hotel/{{.ID}}">Lihat Detail Hotel</a>
      <a class="btn btn-ghost" href="/hotel/{{.ID}}/rooms?type=vip">Pilih Kamar VIP</a>
    </div>
  </dialog>
  {{end}}
</section>

<script>
  function openHotelModal(id) {
    const modal = document.getElementById(id);
    if (modal && typeof modal.showModal === 'function') modal.showModal();
  }
  function closeHotelModal(id) {
    const modal = document.getElementById(id);
    if (modal) modal.close();
  }
</script>
{{end}}
